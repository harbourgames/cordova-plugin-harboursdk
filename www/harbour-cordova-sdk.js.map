{"version":3,"file":"harbour-cordova-sdk.js","sources":["../src/js/tools/util.js","../src/js/ui.js","../src/js/player.js","../src/js/iap_ios.js","../src/js/iap_android.js","../src/js/payments.js","../src/js/startup.js","../src/js/context.js","../src/js/leaderboard.js","../src/js/index.js"],"sourcesContent":["\nexport function asyncSeries(list,callback) {\n  function _run(index,list,callback) {\n    const item = list[index];\n    if (item) {\n      item(err => {\n        if (err) {\n          callback(err);\n        } else {\n          _run(index + 1,list,callback);\n        }\n      });\n    } else {\n      callback();\n    }\n  }\n  _run(0,list,callback);\n}\n\nexport function resolveStyles(...args) {\n  const obj = {};\n\n  function _addStyle(arg) {\n    if (Array.isArray(arg)) {\n      arg.forEach(_addStyle);\n    } else {\n      for (const key in arg) {\n        obj[key] = arg[key];\n      }\n    }\n  }\n\n  _addStyle(args);\n\n  let s = \"\";\n  for (const key in obj) {\n    const val = obj[key];\n    s += key + \":\" + val + \";\";\n  }\n  return s;\n}\n","\nimport { resolveStyles } from './tools/util.js';\n\nexport default {\n  addLoader,\n  removeLoader,\n  setLoaderText,\n  addLoginButton,\n  removeLoginButton,\n  addBlockError,\n};\n\nconst styles = {\n  loader: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'transparent center center no-repeat',\n    'background-size': 'cover',\n\n    display: 'flex',\n    'flex-direction': 'column',\n    'justify-content': 'center',\n    'align-items': 'center',\n    'font-family': 'Helvetica, Arial, sans-serif',\n    'font-weight': 'normal',\n   },\n  cover: {\n    'z-index': '0',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0,0,0,0.3)',\n\n    display: 'flex',\n    'flex-direction': 'column',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  middleLoader: {\n    'z-index': '1',\n    position: 'relative',\n    width: '100px',\n    height: '100px',\n    'border-radius': '50%',\n    overflow: 'hidden',\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: '10px',\n    'border-radius': '50%',\n    background: '#333 center center no-repeat',\n    'background-size': 'cover',\n  },\n  spinner: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    border: '10px solid',\n    'border-color': 'blue black blue black',\n    'border-radius': '50%',\n    animation: 'harbour-loader-spinner 2s linear infinite',\n  },\n  loaderText: {\n    'z-index': '1',\n    'margin-top': '20px',\n    color: 'white',\n    'font-size': '16px',\n    'font-weight': 'bold',\n    'font-family': 'inherit',\n    'text-shadow': '0 0 5px black',\n  },\n  loginButton: {\n    position: 'absolute',\n    bottom: '60px',\n    'margin-left': 'auto',\n    'margin-right': 'auto',\n    height: '40px',\n    width: '236px',\n\n    background: '#4267b2',\n    'border-radius': '4px',\n    cursor: 'pointer',\n\n    display: 'flex',\n    'flex-direction': 'row',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  loginIcon: {\n    position: 'absolute',\n    top: '8px',\n    left: '10px',\n    width: '24px',\n    height: '24px',\n  },\n  buttonText: {\n    'margin-left': '24px',\n    'margin-top': '2px',\n    color: 'white',\n    'font-size': '16px',\n    'font-family': 'inherit',\n  },\n  errorText: {\n    'z-index': '1',\n    'margin-top': '10px',\n    padding: '20px',\n    color: 'red',\n    'font-size': '16px',\n    'font-family': 'inherit',\n    'text-align': 'center',\n    'text-shadow': '0 0 5px black',\n  },\n}\n\nfunction addLoader(opts) {\n  let loader_style;\n  if (opts && opts.backgroundImage) {\n    const style = { 'background-image': 'url(' + opts.backgroundImage + ')' };\n    loader_style = resolveStyles([styles.loader,style]);\n  } else {\n    loader_style = resolveStyles(styles.loader);\n  }\n  let icon_style;\n  if (opts && opts.iconImage) {\n    const style = { 'background-image': 'url(' + opts.iconImage + ')' };\n    icon_style = resolveStyles([styles.icon,style]);\n  } else {\n    icon_style = resolveStyles(styles.icon);\n  }\n\n  const html =\n`<div id='harbour-loader' style='${loader_style}'>\n  <div class='harbour-cover' style='${resolveStyles(styles.cover)}'></div>\n  <div class='harbour-loader' style='${resolveStyles(styles.middleLoader)}'>\n    <div class='harbour-spinner' style='${resolveStyles(styles.spinner)}'></div>\n    <div class='harbour-spinner-icon' style='${icon_style}'></div>\n  </div>\n  <div id='harbour-loader-text' style='${resolveStyles(styles.loaderText)}'>0% Loaded</div>\n</div>`;\n\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n\n  document.body.appendChild(temp.firstChild);\n\n  const css =\n`@keyframes harbour-loader-spinner {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n`;\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n  document.head.appendChild(style);\n}\n\nfunction removeLoader() {\n  const el = document.getElementById('harbour-loader');\n  document.body.removeChild(el);\n}\n\nfunction setLoaderText(text) {\n  const text_el = document.getElementById('harbour-loader-text');\n  text_el.innerText = text\n}\nfunction addLoginButton() {\n  const html =\n`<div id='harbour-loader-login-button' style='${resolveStyles(styles.loginButton)}' onclick='window.HarbourSDK.player.onLoginButtonPress()'>\n  <svg xmlns='http://www.w3.org/2000/svg' style='${resolveStyles(styles.loginIcon)}' viewBox='0 0 216 216' color='#FFFFFF'>\n    <path fill='#FFFFFF' d='\n M204.1 0H11.9C5.3 0 0 5.3 0 11.9v192.2c0 6.6 5.3 11.9 11.9\n 11.9h103.5v-83.6H87.2V99.8h28.1v-24c0-27.9 17-43.1 41.9-43.1\n 11.9 0 22.2.9 25.2 1.3v29.2h-17.3c-13.5 0-16.2 6.4-16.2\n 15.9v20.8h32.3l-4.2 32.6h-28V216h55c6.6 0 11.9-5.3\n 11.9-11.9V11.9C216 5.3 210.7 0 204.1 0z'>\n    </path>\n  </svg>\n  <div style='${resolveStyles(styles.buttonText)}'>Continue With Facebook</div>\n</div>`;\n\n   _appendHtmlToLoader(html);\n}\nfunction removeLoginButton() {\n  const login = document.getElementById('harbour-loader-login-button');\n  const loader = document.getElementById('harbour-loader');\n\n  login && loader && loader.removeChild(login);\n}\n\nfunction addBlockError() {\n  const html =\n`<div style='${resolveStyles(styles.errorText)}'>\n  Error communicating with Facebook.<br/>\n  This site requires Facebook login.<br/>\n  Please check your adblocker or reload the page.\n</div>`;\n\n  _appendHtmlToLoader(html);\n}\n\nfunction _appendHtmlToLoader(html) {\n  const loader = document.getElementById('harbour-loader');\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n  loader.appendChild(temp.firstChild);\n}\n","\nimport UI from \"./ui\";\n\nexport const player = {\n  init,\n  isLoggedIn,\n  checkLoginStatus,\n  login,\n  onLoginButtonPress,\n  setLoginCallback,\n\n  getID,\n  getName,\n  getPhoto,\n  getEmail,\n  getDataAsync,\n  setDataAsync,\n  getStatsAsync,\n  setStatsAsync,\n  incrementStatsAsync,\n  flushDataAsync,\n  getConnectedPlayersAsync,\n  getSignedPlayerInfoAsync,\n  canSubscribeBotAsync,\n  subscribeBotAsync,\n};\n\nlet g_facebookAppId;\nlet g_isLoggedIn = false;\nlet g_uid;\nlet g_email;\nlet g_name;\nlet g_photoUrl;\nlet g_signedRequest;\nlet g_accessToken;\nlet g_loginSuccessCallback;\n\nfunction init(opts) {\n  g_facebookAppId = opts.facebookAppId;\n}\nfunction isLoggedIn() {\n  return g_isLoggedIn;\n}\nfunction checkLoginStatus(done) {\n  if (window.facebookConnectPlugin) {\n    window.facebookConnectPlugin.getLoginStatus(response => {\n      if (response.status === \"connected\") {\n        g_uid = response.authResponse.userID;\n        g_signedRequest = response.authResponse.signedRequest;\n        g_accessToken = response.authResponse.accessToken;\n        _postLogin(() => done());\n      } else {\n        g_isLoggedIn = false;\n        done && done();\n      }\n    },err => {\n      g_isLoggedIn = false;\n      done && done();\n    });\n  } else {\n    done && done();\n  }\n}\nfunction login(done) {\n  if (window.facebookConnectPlugin) {\n    const scopes = ['email'];\n    window.facebookConnectPlugin.login(scopes,response => {\n      let err;\n      if (response && response.status === \"connected\") {\n        g_uid = response.authResponse.userID;\n        g_signedRequest = response.authResponse.signedRequest;\n        g_accessToken = response.authResponse.accessToken;\n        _postLogin(done);\n      } else {\n        err = response.status;\n        done && done(err);\n      }\n    },err => {\n      done && done(err);\n    });\n  } else {\n    done && done('no_facebook_plugin');\n  }\n}\nfunction _postLogin(done) {\n  if (window.facebookConnectPlugin) {\n    const fields = \"email,name,picture.type(large)\";\n    window.facebookConnectPlugin.api(`/me?fields=${fields}`,[],response => {\n      let err;\n      if (!response || response.error) {\n        err = response ? response.error : 'no_response';\n      } else {\n        g_email = response.email;\n        g_name = response.name;\n        g_photoUrl = _getUrl(response.picture);\n        g_isLoggedIn = true;\n        g_loginSuccessCallback && g_loginSuccessCallback();\n        g_loginSuccessCallback = null;\n        UI.removeLoginButton();\n      }\n      done && done(err);\n    },err => {\n      done && done(err);\n    });\n  } else {\n    done && done('no_facebook_plugin');\n  }\n}\n\nfunction onLoginButtonPress() {\n  login();\n}\nfunction setLoginCallback(cb) {\n  g_loginSuccessCallback = cb;\n}\n\nfunction getID() {\n  return g_uid;\n}\nfunction getName() {\n  return g_name;\n}\nfunction getPhoto() {\n  return g_photoUrl;\n}\nfunction getEmail() {\n  return g_email;\n}\nfunction getDataAsync() {\n\n}\nfunction setDataAsync() {\n\n}\nfunction getStatsAsync() {\n\n}\nfunction setStatsAsync() {\n\n}\nfunction incrementStatsAsync() {\n\n}\nfunction flushDataAsync() {\n\n}\nfunction getConnectedPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction getSignedPlayerInfoAsync() {\n  return Promise.resolve({\n    getSignature: () => g_signedRequest,\n    getPlayerID: getID,\n    getAppID: () => g_facebookAppId,\n    getAccessToken: () => g_accessToken,\n  });\n}\nfunction canSubscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction subscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n\nfunction _getUrl(obj) {\n  return obj && obj.data && obj.data.url;\n}\n","\nexport const payments = {\n  init,\n  onReady,\n  getCatalogAsync,\n  purchaseAsync,\n  consumePurchaseAsync,\n};\n\nconst ERROR_MAP = {\n  '6777006': { code: 'USER_INPUT' },\n};\n\nlet g_storeKit;\nlet g_ready = false;\nconst g_readyList = [];\n\nlet g_skuList;\nlet g_productList;\n\nlet g_purchaseDone;\n\nfunction init(opts) {\n  g_skuList = opts.skuList;\n  g_storeKit = window.storekit;\n  g_storeKit.init({\n    error: _onError,\n    ready: _onReady,\n    purchase: _onPurchase,\n    purchaseEnqueued: _onPurchaseEnqueued,\n    purchasing: _onPurchasing,\n    finish: _onFinish,\n    restore: _onRestore,\n    receiptsRefreshed: _onReceiptsRefreshed,\n    restoreFailed: _onRestoreFailed,\n    restoreCompleted: _onRestoreCompleted,\n  });\n}\n\nfunction onReady(done) {\n  if (g_ready) {\n    done();\n  } else {\n    g_readyList.push(done);\n  }\n}\nfunction getCatalogAsync() {\n  return Promise.resolve(g_productList);\n}\n\nfunction purchaseAsync(params) {\n  const { productID } = params;\n  const product = g_productList.find(product => product.productID === productID);\n  if (product) {\n    g_storeKit.purchase(productID,1);\n    return new Promise((resolve,reject) => {\n      g_purchaseDone = (err,purchase) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(purchase);\n        }\n      };\n    });\n  } else {\n    return Promise.reject('bad_product_id');\n  }\n}\nfunction consumePurchaseAsync(transaction_id) {\n  g_storeKit.finish(transaction_id);\n  return Promise.resolve();\n}\n\nfunction _onError(err) {\n  if (g_purchaseDone) {\n    g_purchaseDone(ERROR_MAP[err] || err);\n    g_purchaseDone = null;\n  }\n}\nfunction _onReady() {\n  g_storeKit.load(g_skuList,valid_list => {\n    g_productList = valid_list.map(_transformProduct);\n    g_ready = true;\n    g_readyList.forEach(cb => cb());\n    g_readyList.length = 0;\n  },err => {\n    console.error(\"HarbourSDK.iap_ios: load error:\",err);\n  });\n}\nfunction _transformProduct(product) {\n  return {\n    title: product.title,\n    productID: product.id,\n    description: product.description,\n    imageURL: null,\n    price: product.price,\n    priceCurrencyCode: product.currency,\n  };\n}\n\nfunction _onPurchasing(product_id) {\n  const transaction_id = g_storeKit.transactionForProduct[product_id];\n  if (transaction_id) {\n    _onPurchase(transaction_id,product_id);\n  }\n}\nfunction _onPurchase(transaction_id,product_id) {\n  if (product_id && transaction_id) {\n    // store and localstorage, because the kit doesnt\n    g_storeKit.transactionForProduct[product_id] = transaction_id;\n    window.localStorage.sk_transactionForProduct = JSON.stringify(g_storeKit.transactionForProduct);\n  }\n\n  const receipt_b64 = g_storeKit.receiptForTransaction[transaction_id];\n  if (g_purchaseDone && transaction_id && receipt_b64) {\n    let is_sandbox = false;\n    try {\n      const receipt = atob(receipt_b64);\n      is_sandbox = receipt && receipt.indexOf('\"environment\" = \"Sandbox\"') !== -1;\n    } catch (e) {\n      // noop\n    }\n    const data = {\n      signedRequest: receipt_b64,\n      purchaseToken: transaction_id,\n      paymentID: transaction_id,\n      productID: product_id,\n      storeType: 'itunes',\n      isSandbox: is_sandbox,\n    };\n    g_purchaseDone(null,data);\n    g_purchaseDone = null;\n  }\n}\nfunction _onPurchaseEnqueued() {\n  //console.log(\"onPurchaseEnqueued:\",product_id);\n}\nfunction _onFinish(transaction_id,product_id) {\n  if (g_storeKit.transactionForProduct[product_id] === transaction_id) {\n    delete g_storeKit.transactionForProduct[product_id];\n    window.localStorage.sk_transactionForProduct = JSON.stringify(g_storeKit.transactionForProduct);\n  }\n}\nfunction _onRestore() {\n  //console.log(\"onRestore:\",product_id);\n}\nfunction _onReceiptsRefreshed() {\n  //console.log(\"onReceiptsRefreshed:\",product_id);\n}\nfunction _onRestoreFailed() {\n  //console.log(\"onRestoreFailed:\",err);\n}\nfunction _onRestoreCompleted() {\n  //console.log(\"onRestoreCompleted:\",product_id);\n}\n","\nexport const payments = {\n  init,\n  onReady,\n  getCatalogAsync,\n  purchaseAsync,\n  consumePurchaseAsync,\n};\n\nlet g_inappbilling;\nlet g_ready = false;\nconst g_readyList = [];\nconst g_tokenToProductMap = {};\n\nfunction init() {\n  g_inappbilling = window.inappbilling;\n\n  const opts = {};\n  const skus = [];\n  g_inappbilling.init(() => {\n    g_ready = true;\n    g_readyList.forEach(cb => cb());\n  },err => {\n    console.error(\"iap_android init err:\",err);\n  },opts,skus);\n}\nfunction onReady(done) {\n  if (g_ready) {\n    done();\n  } else {\n    g_readyList.push(done);\n  }\n}\nfunction getCatalogAsync() {\n  return Promise.resolve([]);\n}\n\nfunction purchaseAsync(params) {\n  const { productID, developerPayload } = params;\n\n  return new Promise((resolve,reject) => {\n    g_inappbilling.buy(purchase => {\n      resolve(_transformPurchase(purchase));\n    },err => {\n      if (typeof err === 'string' && err.indexOf('response: 7:Error') !== -1) {\n        _getOwnedPurchase(productID,(err,purchase) => {\n          if (err) {\n            console.error(\"buy second err:\",err);\n          } else {\n            resolve(_transformPurchase(purchase));\n          }\n        });\n      } else {\n        console.error(\"buy err:\",err);\n        reject(err);\n      }\n    },productID,developerPayload);\n  });\n}\nfunction consumePurchaseAsync(purchase_token) {\n  return new Promise((resolve,reject) => {\n    const product_id = g_tokenToProductMap[purchase_token];\n    g_inappbilling.consumePurchase(() => {\n      resolve();\n    },err => {\n      console.error(\"consumePurchase err:\",err);\n      reject(err);\n    },product_id,purchase_token);\n  });\n}\n\nfunction _transformPurchase(purchase) {\n  const { purchaseToken, productId } = purchase;\n  g_tokenToProductMap[purchaseToken] = productId;\n\n  return {\n    purchaseToken,\n    paymentID: purchase.orderId,\n    productID: productId,\n    storeType: 'play',\n    isSandbox: true,\n    purchaseTime: purchase.purchaseTime,\n    playReceipt: purchase.receipt,\n    playSignature: purchase.signature,\n    playPurchaseState: purchase.purchaseState,\n  };\n}\n\nfunction _getOwnedPurchase(product_id,done) {\n  g_inappbilling.getPurchases(list => {\n    const purchase = list.find(item => item.productId === product_id);\n    if (purchase) {\n      done(null,purchase);\n    } else {\n      done('failed_get_owned');\n    }\n  },err => {\n    console.error(\"_getOwnedPurchase: err:\",err);\n    done(err);\n  });\n}\n","\nimport * as iap_ios from './iap_ios.js';\nimport * as iap_android from './iap_android.js';\n\nexport let payments;\n\nconst default_payments = {\n  init,\n  onReady,\n  getCatalogAsync,\n  purchaseAsync,\n  consumePurchaseAsync,\n};\n\nif (window.cordova.platformId === 'ios') {\n  payments = iap_ios.payments;\n} else if (window.cordova.platformId === 'android') {\n  payments = iap_android.payments;\n} else {\n  payments = default_payments;\n}\n\nfunction init() {\n}\nfunction onReady() {\n}\nfunction getCatalogAsync() {\n  return Promise.reject('not_implemented');\n}\nfunction purchaseAsync() {\n  return Promise.reject('not_implemented');\n}\nfunction consumePurchaseAsync() {\n  return Promise.reject('not_implemented');\n}\n","\nimport { asyncSeries, } from \"./tools/util.js\";\nimport UI from \"./ui\";\nimport { player } from \"./player\";\nimport { payments } from \"./payments\";\n\nlet g_facebookAppId;\nlet g_requiresLogin;\nlet g_heyzapPublisherId;\n\nexport function getAppID() {\n  return g_facebookAppId;\n}\nexport function initializeAsync(opts) {\n  g_facebookAppId = opts.facebookAppId;\n  g_requiresLogin = opts.requiresLogin || false;\n  g_heyzapPublisherId = opts.heyzapPublisherId;\n  player.init(opts);\n\n  return new Promise(resolve => {\n    UI.addLoader(opts);\n    resolve();\n\n    asyncSeries([\n      done => _deviceReady(() => {\n        done();\n        setTimeout(() => {\n          if (window.navigator && window.navigator.splashscreen) {\n            window.navigator.splashscreen.hide();\n          }\n        },100);\n      }),\n      player.checkLoginStatus,\n    ],\n    () => {\n      if (!player.isLoggedIn() && g_requiresLogin) {\n        UI.addLoginButton();\n      }\n      _heyzapInit();\n      payments.init(opts);\n    });\n  });\n}\nexport function setLoadingProgress(progress) {\n  return new Promise(resolve => {\n    UI.setLoaderText(progress.toFixed() + \"% Loaded\");\n    resolve();\n  });\n}\nexport function startGameAsync() {\n  return new Promise(resolve => {\n\n    function _startGame() {\n      UI.removeLoader();\n      resolve();\n    }\n\n    if (player.isLoggedIn() || !g_requiresLogin) {\n      _startGame();\n    } else {\n      UI.setLoaderText(\"Login to Continue\");\n      player.setLoginCallback(_startGame);\n    }\n  });\n}\nfunction _heyzapInit(done) {\n  if (g_heyzapPublisherId) {\n    window.HeyzapAds.start(g_heyzapPublisherId).then(() => {\n      window.HarbourSDK.heyzapInitialized = true;\n      done && done();\n    },err => {\n      console.error(\"HarbourSDK: Heyzap init failed:\",err);\n      done && done();\n    });\n  } else {\n    done && done();\n  }\n}\n\nfunction _deviceReady(done) {\n  document.addEventListener('deviceready',() => done(),false);\n}\n","\nexport const context = {\n  getID,\n  chooseAsync,\n  switchAsync,\n  createAsync,\n  getType,\n  isSizeBetween,\n  getPlayersAsync,\n};\n\nfunction getID() {\n  return null;\n}\nfunction getType() {\n  return \"SOLO\";\n}\nfunction chooseAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction createAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction switchAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction isSizeBetween() {\n  return null;\n}\nfunction getPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n","\nexport default {\n  getLeaderboardAsync,\n};\n\nexport function getLeaderboardAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\", });\n}\n","\nimport { initializeAsync, setLoadingProgress, startGameAsync } from './startup.js';\nimport { context } from './context';\nimport { getLeaderboardAsync } from './leaderboard';\nimport { payments } from './payments';\nimport { player } from './player'\n\nconst HarbourSDK = {\n  player,\n  context,\n  payments,\n  getLocale,\n  initializeAsync,\n  setLoadingProgress,\n  startGameAsync,\n  quit,\n  updateAsync,\n  getEntryPointData,\n  getEntryPointAsync,\n  setSessionData,\n  getPlatform,\n  getSDKVersion,\n  getSupportedAPIs,\n  shareAsync,\n  switchGameAsync,\n  logEvent,\n  onPause,\n  getInterstitialAdAsync,\n  getRewardedVideoAsync,\n  getLeaderboardAsync,\n  debugHeyzap,\n  getDeviceId,\n};\nmodule.exports = HarbourSDK;\n\nfunction getLocale() {\n  let locale = 'en-US';\n  if (window.navigator) {\n    if (window.navigator.language) {\n      locale = window.navigator.language;\n    } else if (window.navigator.languages && window.navigator.languages[0]) {\n      locale = window.navigator.languages[0];\n    }\n  }\n  return locale;\n}\n\nfunction quit() {\n  window.close();\n}\nfunction updateAsync() {\n  return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n}\nfunction getEntryPointData() {\n  return {};\n}\nfunction getEntryPointAsync() {\n  return Promise.resolve(null);\n}\nfunction setSessionData() {\n}\nfunction getPlatform() {\n  return 'WEB';\n}\nfunction getSDKVersion() {\n  return '6.2';\n}\nfunction getSupportedAPIs() {\n  const api_list = [];\n  for (const prop in HarbourSDK) {\n    api_list.push(prop);\n  }\n  for (const prop in HarbourSDK.player) {\n    api_list.push('player.' + prop);\n  }\n  for (const prop in HarbourSDK.context) {\n    api_list.push('context.' + prop);\n  }\n  for (const prop in HarbourSDK.payment) {\n    api_list.push('payment.' + prop);\n  }\n  return api_list;\n}\nfunction shareAsync() {\n  return Promise.reject({ code: 'USER_CANCEL', });\n}\nfunction switchGameAsync() {\n  return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n}\nfunction logEvent() {\n  return null;\n}\nfunction onPause(callback) {\n  window.onblur = callback;\n}\nfunction getInterstitialAdAsync() {\n  if (window.HarbourSDK.heyzapInitialized) {\n    return new Promise((resolve,reject) => {\n      window.HeyzapAds.VideoAd.fetch().then(() => {\n        resolve({\n          getPlacmentId: () => 'video',\n          loadAsync: () => Promise.resolve(),\n          showAsync: _showVideoAd,\n        });\n      },err => {\n        reject({ code: 'ADS_NO_FILL' });\n      });\n    });\n  } else {\n    return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n  }\n}\nfunction getRewardedVideoAsync() {\n  if (window.HarbourSDK.heyzapInitialized) {\n    return new Promise((resolve,reject) => {\n      window.HeyzapAds.IncentivizedAd.fetch().then(() => {\n        resolve({\n          getPlacmentId: () => 'reward',\n          loadAsync: () => Promise.resolve(),\n          showAsync: _showRewardedAd,\n        });\n      },err => {\n        reject({ code: 'ADS_NO_FILL' });\n      })\n    });\n  } else {\n    return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n  }\n}\nfunction debugHeyzap() {\n  if (!window.HarbourSDK.heyzapInitialized) {\n    console.error(\"HarbourSDK: debugHeyzap before init\");\n  }\n\n  return window.HeyzapAds.showMediationTestSuite();\n}\n\nfunction _showVideoAd() {\n  return new Promise((resolve,reject) => {\n    window.HeyzapAds.VideoAd.show().then(() => {\n      resolve();\n    },err => {\n      reject({ code: 'NETWORK_FAILURE' })\n    });\n  });\n}\nfunction _showRewardedAd() {\n  return new Promise((resolve,reject) => {\n    window.HeyzapAds.IncentivizedAd.show().then(() => {\n      resolve();\n    },err => {\n      reject({ code: 'NETWORK_FAILURE' })\n    });\n  });\n}\nfunction getDeviceId() {\n  if (window.cordova && window.cordova.plugins && window.cordova.plugins.idfa) {\n    return new Promise((resolve,reject) => {\n      window.cordova.plugins.idfa.getInfo().then(info => {\n        resolve(info.idfa || info.aaid);\n      },err => {\n        reject({ code: 'NOT_AVAILABLE' });\n      });\n    });\n  } else {\n    return Promise.reject({ code: 'NOT_AVAILABLE', });\n  }\n}\n"],"names":["asyncSeries","list","callback","_run","index","item","err","resolveStyles","obj","_addStyle","arg","Array","isArray","forEach","key","args","s","val","addLoader","removeLoader","setLoaderText","addLoginButton","removeLoginButton","addBlockError","styles","loader","position","top","bottom","left","right","background","display","cover","middleLoader","width","height","overflow","icon","margin","spinner","border","animation","loaderText","color","loginButton","cursor","loginIcon","buttonText","errorText","padding","opts","loader_style","backgroundImage","style","icon_style","iconImage","html","temp","document","createElement","innerHTML","body","appendChild","firstChild","css","type","createTextNode","head","el","getElementById","removeChild","text","text_el","innerText","_appendHtmlToLoader","login","player","init","isLoggedIn","checkLoginStatus","onLoginButtonPress","setLoginCallback","getID","getName","getPhoto","getEmail","getDataAsync","setDataAsync","getStatsAsync","setStatsAsync","incrementStatsAsync","flushDataAsync","getConnectedPlayersAsync","getSignedPlayerInfoAsync","canSubscribeBotAsync","subscribeBotAsync","g_facebookAppId","g_isLoggedIn","g_uid","g_email","g_name","g_photoUrl","g_signedRequest","g_accessToken","g_loginSuccessCallback","facebookAppId","done","window","facebookConnectPlugin","getLoginStatus","response","status","authResponse","userID","signedRequest","accessToken","_postLogin","scopes","fields","api","error","email","name","_getUrl","picture","UI","cb","Promise","reject","code","resolve","getSignature","getPlayerID","getAppID","getAccessToken","data","url","payments","onReady","getCatalogAsync","purchaseAsync","consumePurchaseAsync","ERROR_MAP","g_storeKit","g_ready","g_readyList","g_skuList","g_productList","g_purchaseDone","skuList","storekit","_onError","ready","_onReady","purchase","_onPurchase","purchaseEnqueued","_onPurchaseEnqueued","purchasing","_onPurchasing","finish","_onFinish","restore","_onRestore","receiptsRefreshed","_onReceiptsRefreshed","restoreFailed","_onRestoreFailed","restoreCompleted","_onRestoreCompleted","push","params","productID","product","find","transaction_id","load","valid_list","map","_transformProduct","length","console","title","id","description","imageURL","price","priceCurrencyCode","currency","product_id","transactionForProduct","localStorage","sk_transactionForProduct","JSON","stringify","receipt_b64","receiptForTransaction","is_sandbox","receipt","atob","indexOf","e","purchaseToken","paymentID","storeType","isSandbox","g_inappbilling","g_tokenToProductMap","inappbilling","skus","developerPayload","buy","_transformPurchase","_getOwnedPurchase","purchase_token","consumePurchase","productId","orderId","purchaseTime","playReceipt","playSignature","signature","playPurchaseState","purchaseState","getPurchases","default_payments","cordova","platformId","iap_ios","iap_android","g_requiresLogin","g_heyzapPublisherId","initializeAsync","requiresLogin","heyzapPublisherId","_deviceReady","setTimeout","navigator","splashscreen","hide","_heyzapInit","setLoadingProgress","progress","toFixed","startGameAsync","_startGame","HeyzapAds","start","then","HarbourSDK","heyzapInitialized","addEventListener","context","chooseAsync","switchAsync","createAsync","getType","isSizeBetween","getPlayersAsync","getLeaderboardAsync","getLocale","quit","updateAsync","getEntryPointData","getEntryPointAsync","setSessionData","getPlatform","getSDKVersion","getSupportedAPIs","shareAsync","switchGameAsync","logEvent","onPause","getInterstitialAdAsync","getRewardedVideoAsync","debugHeyzap","getDeviceId","module","exports","locale","language","languages","close","api_list","prop","payment","onblur","VideoAd","fetch","getPlacmentId","loadAsync","showAsync","_showVideoAd","IncentivizedAd","_showRewardedAd","showMediationTestSuite","show","plugins","idfa","getInfo","info","aaid"],"mappings":"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"}