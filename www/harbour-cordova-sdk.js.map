{"version":3,"file":"harbour-cordova-sdk.js","sources":["../src/js/tools/util.js","../src/js/context.js","../src/js/leaderboard.js","../src/js/payments.js","../src/js/ui.js","../src/js/player.js","../src/js/index.js"],"sourcesContent":["\nexport function asyncSeries(list,callback) {\n  function _run(index,list,callback) {\n    const item = list[index];\n    if (item) {\n      item(err => {\n        if (err) {\n          callback(err);\n        } else {\n          _run(index + 1,list,callback);\n        }\n      });\n    } else {\n      callback();\n    }\n  }\n  _run(0,list,callback);\n}\n\nexport function resolveStyles(...args) {\n  const obj = {};\n\n  function _addStyle(arg) {\n    if (Array.isArray(arg)) {\n      arg.forEach(_addStyle);\n    } else {\n      for (const key in arg) {\n        obj[key] = arg[key];\n      }\n    }\n  }\n\n  _addStyle(args);\n\n  let s = \"\";\n  for (const key in obj) {\n    const val = obj[key];\n    s += key + \":\" + val + \";\";\n  }\n  return s;\n}\n","\nexport const context = {\n  getID,\n  chooseAsync,\n  switchAsync,\n  createAsync,\n  getType,\n  isSizeBetween,\n  getPlayersAsync,\n};\n\nfunction getID() {\n  return null;\n}\nfunction getType() {\n  return \"SOLO\";\n}\nfunction chooseAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction createAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction switchAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction isSizeBetween() {\n  return null;\n}\nfunction getPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n","\nexport default {\n  getLeaderboardAsync,\n};\n\nexport function getLeaderboardAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\", });\n}\n","\nexport const payments = {\n  onReady,\n  getCatalogAsync,\n  purchaseAsync,\n  consumePurchaseAsync,\n};\n\nfunction onReady() {\n}\nfunction getCatalogAsync() {\n}\nfunction purchaseAsync() {\n}\nfunction consumePurchaseAsync() {\n}\n","\nimport { resolveStyles } from \"./tools/util.js\";\n\nexport default {\n  addLoader,\n  removeLoader,\n  setLoaderText,\n  addLoginButton,\n  removeLoginButton,\n  addBlockError,\n};\n\nconst styles = {\n  loader: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: \"black center center no-repeat\",\n    \"background-size\": \"cover\",\n\n    display: \"flex\",\n    \"flex-direction\": \"column\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n  },\n  cover: {\n    \"z-index\": \"0\",\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: \"rgba(0,0,0,0.5)\",\n\n    display: \"flex\",\n    \"flex-direction\": \"column\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n  },\n  middleLoader: {\n    \"z-index\": \"1\",\n    position: \"relative\",\n    width: \"100px\",\n    height: \"100px\",\n    \"border-radius\": \"50%\",\n    overflow: \"hidden\",\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: \"10px\",\n    \"border-radius\": \"50%\",\n    background: \"#333 center center no-repeat\",\n    \"background-size\": \"cover\",\n  },\n  spinner: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    border: \"10px solid\",\n    \"border-color\": \"blue black blue black\",\n    \"border-radius\": \"50%\",\n    animation: \"harbour-loader-spinner 2s linear infinite\",\n  },\n  loaderText: {\n    \"z-index\": \"1\",\n    \"margin-top\": \"20px\",\n    color: \"white\",\n    \"font-size\": \"16px\",\n    \"font-weight\": \"bold\",\n    \"font-family\": \"Helvetica, Arial, sans-serif\",\n  },\n  loginButton: {\n    position: \"absolute\",\n    bottom: \"60px\",\n    \"margin-left\": \"auto\",\n    \"margin-right\": \"auto\",\n    height: \"40px\",\n    width: \"236px\",\n\n    background: \"#4267b2\",\n    \"border-radius\": \"4px\",\n    cursor: \"pointer\",\n\n    display: \"flex\",\n    \"flex-direction\": \"row\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n  },\n  loginIcon: {\n    position: 'absolute',\n    top: \"8px\",\n    left: \"10px\",\n    width: \"24px\",\n    height: \"24px\",\n  },\n  loginText: {\n    \"margin-left\": \"24px\",\n    \"margin-top\": \"2px\",\n    color: \"white\",\n    \"font-family\": \"Helvetica, Arial, sans-serif\",\n    \"font-size\": \"16px\",\n  },\n  errorText: {\n    \"z-index\": \"1\",\n    \"margin-top\": \"10px\",\n    padding: \"20px\",\n    color: \"red\",\n    \"font-size\": \"16px\",\n    \"font-family\": \"Helvetica, Arial, sans-serif\",\n    \"text-align\": \"center\",\n  },\n}\n\nfunction addLoader(opts) {\n  let loader_style;\n  if (opts && opts.backgroundImage) {\n    const style = { \"background-image\": \"url(\" + opts.backgroundImage + \")\" };\n    loader_style = resolveStyles([styles.loader,style]);\n  } else {\n    loader_style = resolveStyles(styles.loader);\n  }\n  let icon_style;\n  if (opts && opts.iconImage) {\n    const style = { \"background-image\": \"url(\" + opts.iconImage + \")\" };\n    icon_style = resolveStyles([styles.icon,style]);\n  } else {\n    icon_style = resolveStyles(styles.icon);\n  }\n\n  const html =\n`<div id=\"harbour-loader\" style=\"${loader_style}\">\n  <div style=\"${resolveStyles(styles.cover)}\"></div>\n    <div style=\"${resolveStyles(styles.middleLoader)}\">\n      <div style=\"${resolveStyles(styles.spinner)}\"></div>\n      <div style=\"${icon_style}\"></div>\n    </div>\n    <div id=\"harbour-loader-text\" style=\"${resolveStyles(styles.loaderText)}\">0% Loaded</div>\n\n</div>`;\n\n  const temp = document.createElement(\"div\");\n  temp.innerHTML = html;\n\n  document.body.appendChild(temp.firstChild);\n\n  const css =\n`@keyframes harbour-loader-spinner {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n`;\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n  document.head.appendChild(style);\n}\n\nfunction removeLoader() {\n  const el = document.getElementById(\"harbour-loader\");\n  document.body.removeChild(el);\n}\n\nfunction setLoaderText(text) {\n  const text_el = document.getElementById(\"harbour-loader-text\");\n  text_el.innerText = text\n}\nfunction addLoginButton() {\n  const html =\n`<div id=\"harbour-loader-login-button\" style=\"${resolveStyles(styles.loginButton)}\" onclick=\"window.HarbourSDK.player.onLoginButtonPress()\">\n  <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"${resolveStyles(styles.loginIcon)}\" viewBox=\"0 0 216 216\" color=\"#FFFFFF\">\n    <path fill=\"#FFFFFF\" d=\"\n M204.1 0H11.9C5.3 0 0 5.3 0 11.9v192.2c0 6.6 5.3 11.9 11.9\n 11.9h103.5v-83.6H87.2V99.8h28.1v-24c0-27.9 17-43.1 41.9-43.1\n 11.9 0 22.2.9 25.2 1.3v29.2h-17.3c-13.5 0-16.2 6.4-16.2\n 15.9v20.8h32.3l-4.2 32.6h-28V216h55c6.6 0 11.9-5.3\n 11.9-11.9V11.9C216 5.3 210.7 0 204.1 0z\">\n    </path>\n  </svg>\n  <div style=\"${resolveStyles(styles.loginText)}\">Continue With Facebook</div>\n</div>`;\n\n   _appendHtmlToLoader(html);\n}\nfunction removeLoginButton() {\n  const login = document.getElementById(\"harbour-loader-login-button\");\n  const loader = document.getElementById(\"harbour-loader\");\n\n  login && loader && loader.removeChild(login);\n}\n\nfunction addBlockError() {\n  const html =\n`<div style=\"${resolveStyles(styles.errorText)}\">\n  Error communicating with Facebook.<br/>\n  This site requires Facebook login.<br/>\n  Please check your adblocker or reload the page.\n</div>`;\n\n  _appendHtmlToLoader(html);\n}\n\nfunction _appendHtmlToLoader(html) {\n  const loader = document.getElementById(\"harbour-loader\");\n  const temp = document.createElement(\"div\");\n  temp.innerHTML = html;\n  loader.appendChild(temp.firstChild);\n}\n","\nimport UI from \"./ui\";\n\nexport const player = {\n  isLoggedIn,\n  checkLoginStatus,\n  login,\n  onLoginButtonPress,\n  setLoginCallback,\n\n  getID,\n  getName,\n  getPhoto,\n  getEmail,\n  getDataAsync,\n  setDataAsync,\n  getStatsAsync,\n  setStatsAsync,\n  incrementStatsAsync,\n  flushDataAsync,\n  getConnectedPlayersAsync,\n  getSignedPlayerInfoAsync,\n  canSubscribeBotAsync,\n  subscribeBotAsync,\n};\n\nlet g_isLoggedIn = true;\nlet g_uid = \"12345\";\nlet g_email = \"foo@bar.com\";\nlet g_name = \"Player 1\";\nlet g_photoUrl = \"\";\nlet g_signedRequest = \"fake\";\nlet g_loginSuccessCallback;\n\nfunction isLoggedIn() {\n  return g_isLoggedIn;\n}\nfunction checkLoginStatus(done) {\n  done(null,g_isLoggedIn);\n}\n\nfunction login() {\n}\n\nfunction onLoginButtonPress() {\n  login();\n}\nfunction setLoginCallback(cb) {\n  g_loginSuccessCallback = cb;\n}\n\nfunction getID() {\n  return g_uid;\n}\nfunction getName() {\n  return g_name;\n}\nfunction getPhoto() {\n  return g_photoUrl;\n}\nfunction getEmail() {\n  return g_email;\n}\nfunction getDataAsync() {\n\n}\nfunction setDataAsync() {\n\n}\nfunction getStatsAsync() {\n\n}\nfunction setStatsAsync() {\n\n}\nfunction incrementStatsAsync() {\n\n}\nfunction flushDataAsync() {\n\n}\nfunction getConnectedPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction getSignedPlayerInfoAsync() {\n  return Promise.resolve({\n    getSignature: () => g_signedRequest,\n    getPlayerID: getID,\n  });\n}\nfunction canSubscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction subscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n\nfunction _getUrl(obj) {\n  return obj && obj.data && obj.data.url;\n}\n","\nimport { asyncSeries, } from './tools/util.js';\n\nimport { context } from './context';\nimport { getLeaderboardAsync } from './leaderboard';\nimport { payments } from './payments';\nimport { player } from './player'\nimport UI from './ui';\n\nconst HarbourSDK = {\n  player,\n  context,\n  payments,\n  getLocale,\n  initializeAsync,\n  setLoadingProgress,\n  startGameAsync,\n  quit,\n  updateAsync,\n  getEntryPointData,\n  getEntryPointAsync,\n  setSessionData,\n  getPlatform,\n  getSDKVersion,\n  getSupportedAPIs,\n  shareAsync,\n  switchGameAsync,\n  logEvent,\n  onPause,\n  getInterstitialAdAsync,\n  getRewardedVideoAsync,\n  getLeaderboardAsync,\n  debugHeyzap,\n};\nmodule.exports = HarbourSDK;\n\nlet g_heyzapPublisherId;\nlet g_heyzapInitialized = false;\n\nfunction getLocale() {\n  let locale = 'en-US';\n  if (window.navigator) {\n    if (window.navigator.language) {\n      locale = window.navigator.language;\n    } else if (window.navigator.languages && window.navigator.languages[0]) {\n      locale = window.navigator.languages[0];\n    }\n  }\n  return locale;\n}\nfunction initializeAsync(opts) {\n  g_heyzapPublisherId = opts.heyzapPublisherId;\n\n  return new Promise(resolve => {\n    asyncSeries([\n      _deviceReady,\n      _heyzapInit,\n    ],err => {\n      UI.addLoader(opts);\n      resolve();\n    });\n  });\n}\nfunction setLoadingProgress(progress) {\n  return new Promise(resolve => {\n    UI.setLoaderText(progress.toFixed() + '% Loaded');\n    resolve();\n  });\n}\nfunction startGameAsync() {\n  return new Promise(resolve => {\n    UI.removeLoader();\n    resolve();\n  });\n}\nfunction quit() {\n  window.close();\n}\nfunction updateAsync() {\n  return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n}\nfunction getEntryPointData() {\n  return {};\n}\nfunction getEntryPointAsync() {\n  return Promise.resolve(null);\n}\nfunction setSessionData() {\n}\nfunction getPlatform() {\n  return 'WEB';\n}\nfunction getSDKVersion() {\n  return '6.2';\n}\nfunction getSupportedAPIs() {\n  const api_list = [];\n  for (const prop in HarbourSDK) {\n    api_list.push(prop);\n  }\n  for (const prop in HarbourSDK.player) {\n    api_list.push('player.' + prop);\n  }\n  for (const prop in HarbourSDK.context) {\n    api_list.push('context.' + prop);\n  }\n  for (const prop in HarbourSDK.payment) {\n    api_list.push('payment.' + prop);\n  }\n  return api_list;\n}\nfunction shareAsync() {\n  return Promise.reject({ code: 'USER_CANCEL', });\n}\nfunction switchGameAsync() {\n  return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n}\nfunction logEvent(eventName,value,parameters) {\n  console.log('logEvent:',eventName,value,parameters);\n  return null;\n}\nfunction onPause(callback) {\n  window.onblur = callback;\n}\nfunction getInterstitialAdAsync() {\n  if (g_heyzapInitialized) {\n    return new Promise((resolve,reject) => {\n      window.HeyzapAds.VideoAd.fetch().then(() => {\n        resolve({\n          getPlacmentId: () => 'video',\n          loadAsync: () => Promise.resolve(),\n          showAsync: _showVideoAd,\n        });\n      },err => {\n        reject({ code: 'ADS_NO_FILL' });\n      })\n    });\n  } else {\n    return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n  }\n}\nfunction getRewardedVideoAsync() {\n  if (g_heyzapInitialized) {\n    return new Promise((resolve,reject) => {\n      window.HeyzapAds.IncentivizedAd.fetch().then(() => {\n        resolve({\n          getPlacmentId: () => 'reward',\n          loadAsync: () => Promise.resolve(),\n          showAsync: _showRewardedAd,\n        });\n      },err => {\n        reject({ code: 'ADS_NO_FILL' });\n      })\n    });\n  } else {\n    return Promise.reject({ code: 'CLIENT_UNSUPPORTED_OPERATION', });\n  }\n}\nfunction debugHeyzap() {\n  if (!g_heyzapInitialized) {\n    console.error(\"HarbourSDK: debugHeyzap before init\");\n  }\n\n  return window.HeyzapAds.showMediationTestSuite();\n}\n\nfunction _deviceReady(done) {\n  document.addEventListener('deviceready',() => done(),false);\n}\n\nfunction _heyzapInit(done) {\n  if (g_heyzapPublisherId) {\n    window.HeyzapAds.start(g_heyzapPublisherId).then(() => {\n      g_heyzapInitialized = true;\n      done();\n    },err => {\n      console.error(\"HarbourSDK: Heyzap init failed:\",err);\n      done();\n    });\n  } else {\n    done();\n  }\n}\n\nfunction _showVideoAd() {\n  return new Promise((resolve,reject) => {\n    window.HeyzapAds.VideoAd.show().then(() => {\n      resolve();\n    },err => {\n      reject({ code: 'NETWORK_FAILURE' })\n    });\n  });\n}\nfunction _showRewardedAd() {\n  return new Promise((resolve,reject) => {\n    window.HeyzapAds.IncentivizedAd.show().then(() => {\n      resolve();\n    },err => {\n      reject({ code: 'NETWORK_FAILURE' })\n    });\n  });\n}\n"],"names":["asyncSeries","list","callback","_run","index","item","err","resolveStyles","obj","_addStyle","arg","Array","isArray","forEach","key","args","s","val","context","getID","chooseAsync","switchAsync","createAsync","getType","isSizeBetween","getPlayersAsync","Promise","reject","code","getLeaderboardAsync","payments","onReady","getCatalogAsync","purchaseAsync","consumePurchaseAsync","addLoader","removeLoader","setLoaderText","addLoginButton","removeLoginButton","addBlockError","styles","loader","position","top","bottom","left","right","background","display","cover","middleLoader","width","height","overflow","icon","margin","spinner","border","animation","loaderText","color","loginButton","cursor","loginIcon","loginText","errorText","padding","opts","loader_style","backgroundImage","style","icon_style","iconImage","html","temp","document","createElement","innerHTML","body","appendChild","firstChild","css","type","createTextNode","head","el","getElementById","removeChild","text","text_el","innerText","_appendHtmlToLoader","login","player","isLoggedIn","checkLoginStatus","onLoginButtonPress","setLoginCallback","getName","getPhoto","getEmail","getDataAsync","setDataAsync","getStatsAsync","setStatsAsync","incrementStatsAsync","flushDataAsync","getConnectedPlayersAsync","getSignedPlayerInfoAsync","canSubscribeBotAsync","subscribeBotAsync","g_isLoggedIn","g_uid","g_email","g_name","g_photoUrl","g_signedRequest","done","cb","g_loginSuccessCallback","resolve","getSignature","getPlayerID","HarbourSDK","getLocale","initializeAsync","setLoadingProgress","startGameAsync","quit","updateAsync","getEntryPointData","getEntryPointAsync","setSessionData","getPlatform","getSDKVersion","getSupportedAPIs","shareAsync","switchGameAsync","logEvent","onPause","getInterstitialAdAsync","getRewardedVideoAsync","debugHeyzap","module","exports","g_heyzapPublisherId","g_heyzapInitialized","locale","window","navigator","language","languages","heyzapPublisherId","_deviceReady","_heyzapInit","UI","progress","toFixed","close","api_list","prop","push","payment","eventName","value","parameters","console","log","onblur","HeyzapAds","VideoAd","fetch","then","getPlacmentId","loadAsync","showAsync","_showVideoAd","IncentivizedAd","_showRewardedAd","error","showMediationTestSuite","addEventListener","start","show"],"mappings":"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"}